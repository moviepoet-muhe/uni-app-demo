"use strict";const e=require("../common/vendor.js");exports.get=(t,r)=>(({url:t,method:r,data:o,headers:s={}}={})=>{if(!t)throw new Error("请求的url不存在!");t="http://113.45.10.129:3000"+t;const a=e.index.getStorageSync("token");return a&&(s={...s,Authorization:`Bearer ${a}`}),e.index.request({url:t,method:r,data:o,headers:s}).then((e=>{if(e.statusCode>=200&&e.statusCode<300){const{code:t,data:r,message:o}=e.data;return 200===t?r:Promise.reject(o)}return Promise.reject(new Error("状态码:"+e.statusCode))})).catch((e=>Promise.reject(e)))})({url:t,data:r});
